import{o as d,c as r,F as m,r as x,w,a as t,t as i,b as $,v as L,d as g,e as b,f as _,g as C,h as y,i as V,j as I}from"./index-D30Ftsdc.js";const q={class:"list-group"},N=["onClick"],M={class:"d-flex w-100 justify-content-between"},j={class:"mb-1"},B={class:"mb-1"},O={__name:"Menu",props:["data"],emits:["selectedItem"],setup(a,{emit:v}){const n=v;return(e,u)=>(d(),r("div",q,[(d(!0),r(m,null,x(a.data,o=>(d(),r("a",{href:"#",key:o.id,onClick:w(p=>n("selectedItem",o),["prevent"]),class:"list-group-item list-group-item-action"},[t("div",M,[t("h5",j,i(o.name),1),t("small",null," $"+i(o.price),1)]),t("p",B,i(o.description),1)],8,N))),128))]))}},U={class:"table"},D=["onClick"],F=["onUpdate:modelValue","onClick"],Q={__name:"SelectList",props:["orders"],emits:["cancelSelector","itemSum"],setup(a,{emit:v}){const n=v;return(e,u)=>(d(),r("table",U,[u[1]||(u[1]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(d(!0),r(m,null,x(a.orders,o=>(d(),r("tr",{key:o.id},[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:p=>n("cancelSelector",o.id)},"x",8,D)]),t("td",null,i(o.name),1),t("td",null,[t("small",null,i(o.description),1)]),t("td",null,[$(t("select",{class:"form-select","onUpdate:modelValue":p=>o.quantity=p,onClick:p=>n("itemSum",o)},u[0]||(u[0]=[g('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',10)]),8,F),[[L,o.quantity]])]),t("td",null,i(o.price),1),t("td",null,i(o.total),1)]))),128))])]))}},T={class:"table"},E={class:"text-end"},z={class:"text-end"},A={__name:"OrderList",props:["orderList"],setup(a){return(v,n)=>(d(),r(m,null,[t("table",T,[n[0]||(n[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(d(!0),r(m,null,x(a.orderList.order,e=>(d(),r("tr",{key:e.id},[t("td",null,i(e.name),1),t("td",null,i(e.quantity),1),t("td",null,i(e.total),1)]))),128))])]),t("div",E,[n[1]||(n[1]=b("備註: ")),t("span",null,i(a.orderList.note),1)]),t("div",z,[t("h5",null,[n[2]||(n[2]=b("總計: ")),t("span",null,"$"+i(a.orderList.total),1)])])],64))}},G={id:"root"},H={class:"container mt-5"},J={class:"row"},K={class:"col-md-4"},P={key:0,class:"col-md-8"},R={key:1,class:"col-md-8"},W={class:"text-end mb-3"},X={key:0,class:"row justify-content-center"},Y={class:"col-8"},Z={class:"card"},tt={class:"card-body"},et={class:"card-title"},nt={__name:"Order",setup(a){const v=_([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),n=_(null),e=_([]),u=l=>{if(e.value.findIndex(S=>S.id===l.id)>=0)return;const c={id:l.id,name:l.name,description:l.description,price:l.price,quantity:1};c.total=c.quantity*c.price,e.value.push(c)},o=l=>{l.total=l.quantity*l.price},p=C(()=>e.value.length>0?e.value.map(l=>l.total).reduce((l,s)=>l+s,0):0),h=_({order:[],note:null,total:0}),f=()=>{h.value={order:[...e.value],note:n.value,total:p.value},e.value=[],n.value=null},k=l=>{const s=e.value.findIndex(c=>c.id===l);e.value.splice(s,1)};return(l,s)=>(d(),r("div",G,[t("div",H,[t("div",J,[t("div",K,[y(O,{data:v.value,onSelectedItem:u},null,8,["data"])]),e.value.length===0?(d(),r("div",P,s[1]||(s[1]=[t("div",{class:"alert alert-primary text-center",role:"alert"}," 請選擇商品 ",-1)]))):(d(),r("div",R,[y(Q,{orders:e.value,onCancelSelector:k,onItemSum:o},null,8,["orders"]),t("div",W,[t("h5",null,[s[2]||(s[2]=b("總計: ")),t("span",null,"$"+i(p.value),1)])]),$(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=c=>n.value=c),class:"form-control mb-3",rows:"3",placeholder:"備註"},null,512),[[V,n.value]]),t("div",{class:"text-end"},[t("button",{class:"btn btn-primary",onClick:f},"送出")])]))]),s[4]||(s[4]=t("hr",null,null,-1)),h.value.order.length>0?(d(),r("div",X,[t("div",Y,[t("div",Z,[t("div",tt,[t("div",et,[s[3]||(s[3]=t("h5",null,"訂單",-1)),y(A,{orderList:h.value},null,8,["orderList"])])])])])])):I("",!0)])]))}};export{nt as default};
